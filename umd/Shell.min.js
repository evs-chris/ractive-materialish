!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("ractive")):"function"==typeof define&&define.amd?define(["ractive"],e):t.RMShell=e(t.Ractive)}(this,function(t){"use strict";function e(t){function e(){var e=!i||("l"===h?g.matches:!!u&&u.matches),n=!l||("r"===h?g.matches:!!u&&u.matches);t.set({leftHidden:e,rightHidden:n,_leftOver:e,_rightOver:n})}if("undefined"!=typeof window){var n=t.get("@style.shell.left.width")||t.get("@style.menu.width")||"18em",r=t.get("@style.shell.right.width")||t.get("@style.menu.width")||"18em",i=t.get("_left")&&!t.get("leftOver"),l=t.get("_right")&&!t.get("rightOver"),h=!i||t.get("_rightPrimary")?"r":"l",s=i||l,d=i&&l,f=t.get("@style.break.medium")||"960px";if(s){t._media&&t._media.cancel();var o={};t._media=o;var a=document.createElement("div");document.body.appendChild(a),a.style.width="calc(("+f+" + "+("l"===h?n:r)+") - 1px)";var c=getComputedStyle(a),g=window.matchMedia("(max-width: "+c.width+")");d&&(a.style.width="calc((("+f+" + "+("l"===h?n:r)+")"+(d?" + "+("l"===h?r:n):"")+") - 1px)");var u=d&&window.matchMedia("(max-width: "+c.width+")");document.body.removeChild(a),g.addListener(e),u&&u.addListener(e),o.cancel=function(){t._media=null,g.removeListener(e),u&&u.removeListener(e)},e()}}}t=t&&t.hasOwnProperty("default")?t.default:t;var n="undefined"!=typeof window?window:null,r=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);t.extendWith(r,{template:{v:4,t:[{t:7,e:"div",m:[{n:"class-rshell",t:13},{t:16,r:"extra-attributes"}],f:[{t:7,e:"div",m:[{n:"class-rshell-main",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rshell-top",t:13},{t:4,f:[{t:16,r:"._topA"}],n:50,r:"._topA"}],f:[{t:16,r:"._top"}]}],n:50,r:"._top"}," ",{t:7,e:"div",m:[{n:"class-rshell-has-left",t:13,f:[{t:2,x:{r:["._left","._leftOver",".leftOver"],s:"_0&&!_1&&!_2"}}]},{n:"class-rshell-has-right",t:13,f:[{t:2,x:{r:["._right","._rightOver",".rightOver"],s:"_0&&!_1&&!_2"}}]},{n:"class-rshell-left-hidden",t:13,f:[{t:2,r:".leftHidden"}]},{n:"class-rshell-right-hidden",t:13,f:[{t:2,r:".rightHidden"}]}],f:[{t:7,e:"div",m:[{n:"class-rshell-modal",t:13},{n:"class-rshell-blocked",t:13,f:[{t:2,r:".blocked"}]},{n:["click"],t:70,f:{r:["@this","leftOver","_leftOver","leftHidden","rightOver","_rightOver","rightHidden"],s:"[_0.set({leftHidden:_1||_2?true:_3,rightHidden:_4||_5?true:_6})]"}}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rshell-left",t:13},{t:4,f:[{t:16,r:"._leftA"}],n:50,r:"._leftA"},{n:["click"],t:70,f:{r:["._leftOver","leftOver","@this"],s:'[(_0||_1)&&_2.toggle("leftHidden")]'}}],f:[{t:16,r:"._left"}]}],n:50,r:"._left"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rshell-center",t:13},{t:4,f:[{t:16,r:"._centerA"}],n:50,r:"._centerA"}],f:[{t:16,r:"._center"}]}],n:50,r:"._center"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rshell-right",t:13},{t:4,f:[{t:16,r:"._rightA"}],n:50,r:"._rightA"},{n:["click"],t:70,f:{r:["._rightOver",".rightOver","@this"],s:'[(_0||_1)&&_2.toggle("rightHidden")]'}}],f:[{t:16,r:"._right"}]}],n:50,r:"._right"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rshell-bottom",t:13},{t:4,f:[{t:16,r:"._bottomA"}],n:50,r:"._bottomA"}],f:[{t:16,r:"._bottom"}]}],n:50,r:"._bottom"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rshell-left-pop",t:13},{t:4,f:[{t:16,r:"._leftPA"}],n:50,r:"._leftPA"}],f:[{t:16,r:"._leftP"}]}],n:50,r:"._leftP"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rshell-right-pop",t:13},{t:4,f:[{t:16,r:"._rightPA"}],n:50,r:"._rightPA"}],f:[{t:16,r:"._rightP"}]}],n:50,r:"._rightP"}]}],e:{"_0&&!_1&&!_2":function(t,e,n){return t&&!e&&!n},"[_0.set({leftHidden:_1||_2?true:_3,rightHidden:_4||_5?true:_6})]":function(t,e,n,r,i,l,h){return[t.set({leftHidden:!(!e&&!n)||r,rightHidden:!(!i&&!l)||h})]},'[(_0||_1)&&_2.toggle("leftHidden")]':function(t,e,n){return[(t||e)&&n.toggle("leftHidden")]},'[(_0||_1)&&_2.toggle("rightHidden")]':function(t,e,n){return[(t||e)&&n.toggle("rightHidden")]}}},attributes:[],css:function(t){return[function(t){var e=t("shell.left.width")||t("menu.width")||"18em",n=t("shell.right.width")||t("menu.width")||"18em";return"\n   .rshell {\n     width: 100%;\n     height: 100%;\n     position: absolute;\n     overflow: hidden;\n   }\n   .rshell-modal {\n     position: absolute;\n     top: 0;\n     left: 0;\n     bottom: 0;\n     right: 0;\n     opacity: 0;\n     background-color: #000;\n     z-index: -1;\n     transition: opacity 0.4s ease-in-out, z-index 0s linear 0.4s;\n   }\n   .rshell-modal.rshell-blocked {\n     opacity: 0.5;\n     z-index: 3;\n     transition: opacity 0.4s ease-in-out, z-index 0s linear;\n   }\n   .rshell-main {\n     width: 100%;\n     height: 100%;\n     box-sizing: border-box;\n     display: flex;\n     overflow: hidden;\n     z-index: 1;\n   }\n \n   .rshell-left, .rshell-right {\n     position: absolute;\n     top: 0;\n     box-sizing: border-box;\n     height: 100%;\n     overflow: auto;\n     z-index: 4;\n     background-color: "+(t("shell.menu.bg")||t("bg1")||"inherit")+";\n     transition: transform 0.4s ease-in-out;\n   }\n   .rshell-left {\n     left: 0;\n     width: "+e+";\n   }\n   .rshell-right {\n     right: 0;\n     width: "+n+";\n   }\n   .rshell-left-hidden > .rshell-left {\n     transform: translateX(-100%);\n   }\n   .rshell-right-hidden > .rshell-right {\n     transform: translateX(100%);\n   }\n   .rshell-has-right > .rshell-right,\n   .rshell-has-left > .rshell-left {\n     z-index: 1;\n   }\n \n   .rshell-center {\n     position: absolute;\n     top: 0;\n     left: 0;\n     z-index: 1;\n     box-sizing: border-box;\n     transition: left 0.4s ease-in-out, width 0.4s ease-in-out;\n     height: 100%;\n     width: 100%;\n     overflow: auto;\n   }\n   .rshell-has-left > .rshell-center {\n     width: calc(100% - "+e+");\n     left: "+e+";\n   }\n   .rshell-has-right > .rshell-center {\n     width: calc(100% - "+n+");\n     left: 0;\n   }\n   .rshell-has-left.rshell-has-right > .rshell-center {\n     width: calc(100% - "+e+" - "+n+");\n     left: "+e+";\n   }\n   .rshell-has-left.rshell-left-hidden > .rshell-center {\n     width: 100%;\n     left: 0;\n   }\n   .rshell-has-right.rshell-right-hidden > .rshell-center {\n     width: 100%;\n   }\n   .rshell-has-left.rshell-has-right.rshell-left-hidden > .rshell-center {\n     width: calc(100% - "+n+");\n     left: 0;\n   }\n   .rshell-has-left.rshell-has-right.rshell-right-hidden > .rshell-center {\n     width: calc(100% - "+e+");\n     left: "+e+";\n   }\n   .rshell-has-left.rshell-has-right.rshell-left-hidden.rshell-right-hidden > .rshell-center {\n     width: 100%;\n     left: 0;\n   }\n   "}.call(this,t)].join(" ")},cssId:"rshell",noCssTransform:!0,computed:{blocked:{get:function(){return(this.get("leftOver")||this.get("_leftOver"))&&!this.get("leftHidden")||(this.get("rightOver")||this.get("_rightOver"))&&!this.get("rightHidden")}}},on:{construct:function(){var t=this.component;if(t){var e=t.template.f||[],n=t.template.m?t.template.m.slice():[],r=t.template;t.template={e:r.e,f:r.f,t:r.t,m:n};var h={};e.forEach(function(t){if(~i.indexOf(t.e)&&(h["_"+t.e]={t:t.f},t.m)){var e=t.m.filter(function(t){return!~l.indexOf(t.n)});if(e.length&&(h["_"+t.e+"A"]={t:e}),e.length!==t.m.length){var r=t.m.find(function(t){return"hidden"===t.n});r&&n.push({t:13,n:t.e+"Hidden",f:r.f}),(r=t.m.find(function(t){return"over"===t.n}))&&n.push({t:13,n:t.e+"Over",f:r.f}),(r=t.m.find(function(t){return"primary"===t.n}))&&n.push({t:13,n:"_"+t.e+"Primary",f:r.f})}}}),this._items=h}},config:function(){this._items&&this.set(this._items)},init:function(){var t=this;this.get("@style.shell.sides.initialTimeout")&&(this.get("rightOver")||this.get("leftOver"))?setTimeout(function(){t.get("rightOver")&&t.set("rightHidden",!0),t.get("leftOver")&&t.set("leftHidden",!0)},this.get("@style.shell.sides.initialTimeout")||1500):(this.get("rightOver")&&this.set("rightHidden",!0),this.get("leftOver")&&this.set("leftHidden",!0))}},observe:{"@style":function(t){e(this)},"leftHidden rightHidden":{handler:function(){var t=this;setTimeout(function(){return t.fire("resize")},410)},defer:!0,init:!1}}});var i=["top","bottom","center","left","right","leftP","rightP"],l=["hidden","primary","over"];return function(t,e,r){if(n&&n.Ractive&&"object"==typeof n.Ractive[e]){var i=document.currentScript;if(i||(i=(i=document.querySelectorAll("script"))[i.length-1]),i){var l=i.getAttribute("data-alias");l&&(l=(l=l.split("&")).reduce(function(t,e){var n=e.split("="),r=n[0],i=n[1];return t[r]=i,t},{})),Ractive[e][l&&l[t]||t]=r}}}("RMShell","components",r),r});
