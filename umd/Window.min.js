!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("ractive")):"function"==typeof define&&define.amd?define(["exports","ractive"],n):n(t.RMWindow={},t.Ractive)}(this,function(t,n){"use strict";function e(t,n,e){if(a&&a.Ractive&&"object"==typeof a.Ractive[n]){var o=document.currentScript;if(o||(o=(o=document.querySelectorAll("script"))[o.length-1]),o){var i=o.getAttribute("data-alias");i&&(i=(i=i.split("&")).reduce(function(t,n){var e=n.split("="),o=e[0],i=e[1];return t[o]=i,t},{})),Ractive[n][i&&i[t]||t]=e}}}function o(t,n){var e=t.processParams(n,{duration:200,easing:"easeInOut"});t.setStyle("overflow","hidden");var o="x"===e.axis?"width":"height";if(t.isIntro){var i=t.getStyle(o);return t.setStyle(o,0),t.setStyle("opacity",0),t.animateStyle(o,i,e).then(function(){return t.animateStyle("opacity",1,e)})}return t.setStyle(o,t.getStyle(o)),t.setStyle("opacity",1),t.animateStyle("opacity",0,e).then(function(){return t.animateStyle(o,0,e)})}function i(t,n,e){var o=n.clientWidth,i=n.clientHeight,r=0,s=0,a=void 0===t._grid1?t._grid1=0:t._grid1>7?t._grid1=0:++t._grid1,l=Math.floor(o/3),c=Math.floor(i/3),f=t.sizeInPx(e.width+"em"),d=t.sizeInPx(e.height+"em");switch(a){case 5:case 7:case 8:r=i-d-10;break;case 2:case 4:case 6:r=c+Math.floor((c-d)/2);break;case 0:case 1:case 3:r=10}switch(a){case 3:case 6:case 8:s=o-f-10;break;case 1:case 4:case 7:s=l+Math.floor((l-f)/2);break;case 0:case 2:case 5:s=10}return s+f>o&&(s=o-f-10),r+d>i&&(r=i-d-10),{top:r,left:s}}function r(t,n,e){var o,i,r=n.clientWidth-10,s=n.clientHeight-10,a=Math.floor(s/16),l=Math.floor(r/16),c=new Array(a*l),f=new Array(a*l);for(o=0;o<c.length;o++)c[o]=0;var d,u,h,w,p,m=0,g=t.get("windows");for(var x in g)for(m++,d=g[x],u=Math.floor(d.top/16),h=Math.floor(d.left/16),p=Math.ceil(t.sizeInPx(d.height+"em")/16),w=Math.ceil(t.sizeInPx(d.width+"em")/16),o=u;o<u+p&&o<a;o++)for(i=h;i<h+w&&i<l;i++)c[o*l+i]++;var b,y,v;for(w=Math.ceil(t.sizeInPx(e.width+"em")/16),p=Math.ceil(t.sizeInPx(e.height+"em")/16),o=0;o<a;o++)for(i=0;i<l;i++){if(o+p>a||i+w>l)b=m*w*p;else for(b=0,y=0;y<p;y++)for(v=0;v<w;v++)b+=c[(o+y)*l+i+v];if(0===b)return{top:16*o+5,left:16*i+5};f[o*l+i]=b}for(b=m*w*p,y=0,o=0;o<f.length;o++)f[o]<b&&(b=f[o],y=o);return{top:16*Math.floor(y/l)+5,left:y%l*16+5}}function s(t){t._media?t._media.fn():t.get("@style.window.maxFrom")&&(t._media={},t._media.fn=function(){var n=t.sizeInPx(t.get("@style.window.maxFrom")),e=void 0===t.get("max"),o=t.transitionsEnabled;e&&(t.transitionsEnabled=!1),t.set("max",t.host.clientWidth<=n),e&&(t.transitionsEnabled=o)},t._media.handle=t.root.on("*.resize",t._media.fn),setTimeout(t._media.fn,0))}n=n&&n.hasOwnProperty("default")?n.default:n;var a="undefined"!=typeof window?window:null;e("expand","transitions",o);var l,c={timeout:6e3,top:!0},f=function(t){return[function(t){return"\n   .rtoast {\n     position: absolute;\n     display: flex;\n     justify-content: center;\n     left: 1em;\n     right: 1em;\n     top: 1em;\n     bottom: auto;\n     z-index: 2;\n   }\n   .rtoast-message {\n     padding: 0.5em 0.5em 0.5em 1em;\n     flex-grow: 2;\n   }\n   .rtoast-buttons {\n     display: inline-block;\n     padding: 0.5em 1em 0.5em 0.5em;\n     flex-shrink: 1;\n   }\n   .rtoast-button {\n     background-color: transparent;\n     color: inherit;\n     padding: 0.5em 1em;\n     margin: 0 0 0 1em;\n     line-height: 1em;\n     box-shadow: none;\n   }\n   .rtoast-bottom {\n     bottom: 1em;\n     top: auto;\n   }\n   .rtoast-left {\n     justify-content: flex-start;\n   }\n   .rtoast-right {\n     justify-content: flex-end;\n   }\n   .rtoast-body {\n     display: flex;\n     flex-shrink: 2;\n     align-items: center;\n     border-radius: 2px;\n     color: "+(t("toast.fg")||t("bg1")||"#fff")+";\n     background-color: "+(t("toast.bg")||t("fg1")||"#222")+";\n     box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);\n     opacity: 0.95;\n   }\n \n   .rtoast-success {\n     color: "+(t("toast.success.fg")||"#f9f9f9")+";\n     background-color: "+(t("toast.success.bg")||"#4caf50")+";\n   }\n   .rtoast-info {\n     color: "+(t("toast.info.fg")||"#f9f9f9")+";\n     background-color: "+(t("toast.info.bg")||"#07e")+";\n   }\n   .rtoast-warn {\n     color: "+(t("toast.warn.fg")||"#222")+";\n     background-color: "+(t("warn.success.bg")||"#ffc107")+";\n   }\n   .rtoast-error {\n     color: "+(t("toast.error.fg")||"#f9f9f9")+";\n     background-color: "+(t("toast.error.bg")||"#ff5252")+";\n   }\n   "}.call(this,t)].join(" ")},d={template:{v:4,t:[{t:4,f:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rtoast",t:13},{n:"class-rtoast-bottom",t:13,f:[{t:2,r:".bottom"}]},{n:"class-rtoast-left",t:13,f:[{t:2,r:".left"}]},{n:"class-rtoast-right",t:13,f:[{t:2,r:".right"}]}],f:[{t:7,e:"div",m:[{n:"toast",t:72,v:"t0"},{n:"class",f:["rtoast-body",{t:4,f:[" rtoast-",{t:2,r:".type"}],n:50,r:".type"},{t:4,f:[{t:2,r:".class"}],n:50,r:".class"}],t:13},{t:4,f:[{n:["click"],t:70,f:{r:["@this"],s:"[_0._closeToast()]"}}],n:50,x:{r:[".dismissable"],s:"_0!==false"}}],f:[{t:7,e:"div",m:[{n:"class-rtoast-message",t:13}],f:[{t:2,r:".message"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rtoast-buttons",t:13}],f:[{t:4,f:[{t:7,e:"button",m:[{n:"class",f:["rtoast-button",{t:4,f:[" ",{t:2,r:".class"}],n:50,r:".class"}],t:13},{t:4,f:[{n:["click"],t:70,f:{r:["."],s:"[_0.action()]"}}],n:50,x:{r:[".action"],s:'typeof _0==="function"'}}],f:[{t:2,r:".label"}]}],n:52,r:".buttons"},{t:4,n:51,f:[{t:7,e:"button",m:[{n:"class-rtoast-button",t:13}],f:["Close"]}],l:1}]}],n:50,x:{r:[".dismissable",".buttons.length"],s:"_0!==false||_1"}}]}]}],n:54,r:"~/_toast"}],n:50,r:"~/_toast"}],e:{"[_0._closeToast()]":function(t){return[t._closeToast()]},"_0!==false":function(t){return!1!==t},"[_0.action()]":function(t){return[t.action()]},'typeof _0==="function"':function(t){return"function"==typeof t},"_0!==false||_1":function(t,n){return!1!==t||n}}},apply:function(t,n){function e(){(i=s.shift()).instance.set("_toast",i).then(function(){i.timeout&&(o=setTimeout(function(){i.instance._closeToast()},i.timeout))})}var o,i,r=Object.assign({},c,n),s=[];t.toast=function(t,n){var o=Object.assign({message:t,instance:this},r,this.toastDefaults,n);s.push(o),i||e()},t._closeToast=function(){o&&(clearTimeout(o),o=null),i.instance.set("_toast",null).then(function(){i=null,s.length&&e()})},t.transitions=t.transitions||{},t.partials=t.partials||{},t.on=t.on||{},t.partials.toast=this.template,t.transitions.toast=function(t,n){var e=t.processParams({duration:200},n),o=t.getStyle("opacity");return t.isIntro?(t.setStyle({opacity:0,transform:"translateY("+(i.bottom?"":"-")+"1em)"}),t.animateStyle({opacity:o,transform:"none"},e)):(t.setStyle({opacity:o,transform:"none"}),t.animateStyle({opacity:0,transform:"translateY("+(i.bottom?"":"-")+"1em)"},e))},t.on["close-toast"]=function(){this._closeToast()};var a=t.css;return t.css=function(t){var n="";return"string"==typeof a?n+=a:"function"==typeof a&&(n+=a(t)),f(t)+n},t}},u=n.escapeKey,h=function(t){function n(n){t.call(this,n)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(n);n.extendWith(h,{css:function(t){return[function(t){return"\n   .rwhost {\n     position: relative;\n     display: flex;\n     flex-direction: column;\n     box-sizing: border-box;\n     top: 0;\n     left: 0;\n     width: 100%;\n     height: 100%;\n   }\n \n   .rwhost-sizer {\n     position: absolute;\n   }\n \n   .rwhost-pane {\n     display: flex;\n     position: relative;\n     width: 100%;\n     box-sizing: border-box;\n     flex-grow: 2;\n     overflow: auto;\n     background-color: "+(t("window.host.bg")||t("bg1")||"#fff")+";\n   }\n \n   .rwhost-pane-content {\n     flex-grow: 1;\n   }\n \n   .rwhost-modal {\n     position: absolute;\n     top: 0;\n     left: 0;\n     bottom: 0;\n     right: 0;\n     z-index: -1;\n     opacity: 0;\n     transition: opacity 0.2s ease-in-out, z-index 0s linear 0.2s;\n     background-color: #000;\n   }\n   .rwhost-modal-active {\n     opacity: 0.5;\n     z-index: 1;\n     transition: opacity 0.2s ease-in-out, z-index 0s linear;\n   }\n \n   .rwindow-wrapper {\n     display: inline-block;\n     box-sizing: border-box;\n     position: absolute;\n   }\n   .rwindow-wrapper.rwindow-resizing {\n     transition: none;\n   }\n \n   .rwindow-wrapper.rwindow-resizable {\n     padding: "+(t("window.handleSize")||7)+"px;\n   }\n \n   .rwindow-topmost > .rwindow {\n     box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.3);\n     opacity: 1;\n   }\n \n   .rwindow-modal {\n     position: absolute;\n     top: 0;\n     bottom: 0;\n     left: 0;\n     right: 0;\n     background-color: rgba(0, 0, 0, 0.5);\n     opacity: 0;\n     z-index: -1;\n     transition: opacity 0.4s ease-in-out, z-index 0s linear 0.4s;\n   }\n   .rwindow-modal.rwindow-blocked {\n     opacity: 1;\n     z-index: 10;\n     transition: opacity 0.4s ease-in-out, z-index 0s linear;\n   }\n \n   .rwindow {\n     position: relative;\n     box-sizing: border-box;\n     background-color: "+(t("window.bg")||t("bg1")||"#fff")+";\n     color: "+(t("window.fg")||t("fg1")||"#222")+";\n     box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);\n     border-radius: 2px;\n     overflow: hidden;\n     width: 100%;\n     height: 100%;\n     opacity: 0.8;\n     min-width: "+(t("window.minWidth")||"2em")+";\n     min-height: "+(t("window.minHeight")||"2em")+";\n     transition: box-shadow 0.4s ease-in-out, opacity 0.4s ease-in-out;\n   }\n   .rwindow-max > .rwindow {\n    border-radius: 0;\n    box-shadow: none;\n   }\n \n   .rwindow-pane-top,\n   .rwindow-max-top {\n     background-color: "+(t("window.title.bg")||t("bg2")||"#07e")+";\n     color: "+(t("window.title.fg")||t("fg2")||"#fff")+";\n     flex-shrink: 0;\n   }\n \n   .rwindow-max-top {\n     flex-shrink: 2;\n   }\n \n   .rwindow-pane-top {\n     display: flex;\n     align-items: center;\n   }\n \n   .rwindow-pane {\n     display: flex;\n     flex-direction: column;\n     table-layout: fixed;\n     width: 100%;\n     height: 100%;\n   }\n   .rwindow-autosizing {\n     display: block;\n     box-sizing: border-box;\n   }\n   .rwindow-content {\n     overflow: auto;\n     flex-grow: 2;\n     position: relative;\n     box-sizing: border-box;\n   }\n   .rwindow-content.rwindow-pad {\n     padding: 1em;\n   }\n   .rwindow-content.rwindow-flex {\n     display: flex;\n     flex-direction: column;\n   }\n \n   .rwindow-buttons {\n     display: flex;\n     flex-shrink: 0;\n     padding: 0.5em;\n     border-top: 1px solid "+(t("window.title.bg")||t("bg2")||"#07e")+";\n   }\n   .rwindow-left-buttons {\n     text-align: left;\n     flex-grow: 2;\n   }\n   .rwindow-left-buttons button {\n     margin-right: 0.5em;\n   }\n   .rwindow-center-buttons {\n     text-align: center;\n     flex-shrink: 2;\n   }\n   .rwindow-center-buttons button {\n     margin: 0 0.25em;\n   }\n   .rwindow-right-buttons {\n     text-align: right;\n     flex-grow: 2;\n   }\n   .rwindow-right-buttons button {\n     margin-left: 0.5em;\n   }\n \n   .rwindow-title {\n     overflow: hidden;\n     text-overflow: ellipsis;\n     padding: 0.5em;\n     white-space: nowrap;\n     box-sizing: border-box;\n     flex-grow: 1;\n   }\n \n   .rwindow-controls {\n     display: flex;\n     justify-content: flex-end;\n     align-items: center;\n     flex-grow: 1;\n   }\n   .rwindow-controls > div {\n     margin: 0 1em 0 0;\n     width: 0.7em;\n     height: 0.7em;\n     cursor: pointer;\n   }\n   .rwindow-minimize {\n     border-bottom: 2px solid;\n   }\n   .rwindow-maximize {\n     border: 2px solid;\n   }\n   .rwindow-controls > .rwindow-close {\n     width: 0.5em;\n     height: 1em;\n     border-right: 2px solid;\n     transform: rotate(45deg);\n     transform-origin: center right;\n     position: relative;\n     margin-right: 1.5em;\n   }\n   .rwindow-close:before {\n     cursor: pointer;\n     height: 1.2em;\n     width: 1.2em;\n     top: 0.3em;\n     left: 0.1em;\n     content: ' ';\n     transform: rotate(-45deg);\n     transform-origin: center left;\n     position: absolute;\n   }\n   .rwindow-close:after {\n     cursor: pointer;\n     height: 100%;\n     width: 100%;\n     top: 1px;\n     left: calc(100% + 1px);\n     content: ' ';\n     border-left: 2px solid;\n     transform: rotate(-90deg);\n     transform-origin: center left;\n     position: absolute;\n   }\n   "+("function"==typeof t("extra-window")?t("extra-window").call(this,t):"")+"\n   "}.call(this,t)].join(" ")},cssId:"rwindow",noCssTransform:!0,decorators:{tracked:function(t,n){return this[n]=t,{teardown:function(){this[n]===t&&(this[n]=null)}}}},transitions:{window:function(t,n){if(l)return t.complete();l=t;var e=t.processParams(n,{duration:400,easing:"easeInOut"}),o=t.node.parentNode,i=o.style?o.style.overflow:"";o.style&&(o.style.overflow="hidden"),t.isIntro||e.intro?(t.setStyle({transform:"translate(30%, 0px) scale(1.1, 1.1)",opacity:0}),t.animateStyle({transform:"none",opacity:1},e).then(function(){l=!1,t.complete(),o.style&&(o.style.overflow=i)})):(t.setStyle({transform:"none",opacity:1}),t.animateStyle({transform:"translate(30%, 0px) scale(1.1, 1.1)",opacity:0},e).then(function(){l=!1,t.complete(),o.style&&(o.style.overflow=i)}))}}});var w=0,p=function(t){function n(n){t.call(this,n)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={current:{configurable:!0},currentId:{configurable:!0},placement:{configurable:!0}};return e.current.get=function(){var t=this.get("topLevel");return this.getWindow(this.get("windows")[t].id)},e.currentId.get=function(){var t=this.get("topLevel");return this.get("windows."+u(t)+".id")},e.placement.get=function(){return this.get("placement")},e.placement.set=function(t){return this.set("placement",t)},n.prototype.addWindow=function(t,n){var e=this,o=Object.assign({},t.options,t.get("options"),n);if(!(t instanceof g))throw new Error("Windows must be instances of Window");t.id||t.set("@.id",o.id||"window"+w++),this.get("windows."+u(t.id))||this.set("windows."+u(t.id),Object.assign({show:!1!==o.show,autosize:!0,id:t.id,blockers:[],close:!0,minimize:!0,maximize:!0},o,{id:t.id})),t.host=this;var i=this.attachChild(t,{target:"window"});if(o.width&&o.height?t.size(o.width,o.height):t.size("auto"),o.block){var r=o.block.id||o.block;"string"==typeof r&&r in this.get("windows")&&(this.push("windows."+u(r)+".blockers",t.id),t.set("control.blocking",r))}return o.top&&o.left?t.move(o.top,o.left):this.place(t),this.raise(t,!1!==o.show),t.on("close",function(){var n=t.get("control.blocking");if(n){var o=e.windowGet(n,"blockers");e.splice("windows."+u(n)+".blockers",o.indexOf(t.id),1)}e.detachChild(t).then(function(){return t.teardown()}),e.set("windows."+u(t.id),void 0),delete e.get("windows")[t.id],e.raise()}),this.update("windows."+u(t.id)+".id",{force:!0}),i},n.prototype.getWindow=function(t){return this.children.byName.window&&this.children.byName.window.filter(function(n){return n.instance.id===t}).map(function(t){return t.instance})[0]},n.prototype.windowGet=function(t,n){return this.get("windows."+u(t)+"."+n)},n.prototype.windowSet=function(t,n,e){return this.set("windows."+u(t)+"."+n,e)},n.prototype.raise=function(t,n){function e(t){var n=s.get("windows."+u(t)+".blockers");n&&(n.forEach(function(t){return s.add("windows."+u(t)+".index",l++)}),n.forEach(function(t){return e(t)}))}var o=this,i=t instanceof g?t:this.children.byName.window.filter(function(n){return n.instance.id===t}).map(function(t){return t.instance})[0],r=this.get("windows"),s=this,a=Object.keys(r).map(function(t){return r[t]}),l=a.length+1,c=this.get("topLevel");this.get("blocked");i&&(i.set("control.index",!1===n?-1:l++),!1===n||i.visible||i.show(),e(i.id)),a.filter(function(t){return!1!==t.show&&!0===t.block}).forEach(function(t){o.set("windows."+u(t.id)+".index",(t.index||0)+l),e(t.id)});var f=a.sort(function(t,n){return t.show?n.show&&t.index<n.index?-1:1:-1}),d=f.filter(function(t){return t.show});l=f.indexOf(d[d.length-1]);var h={},w=null;f.forEach(function(t,n){var e=u(t.id);!0===t.block&&null===w&&(w=n),h["windows."+e+".index"]=null!==w?n+2:n,h["windows."+e+".topmost"]=n===l,h["windows."+e+".stack"]=f.length-n}),h.blocked=null!==w?w+1:0,~l&&f.length?h.topLevel=f[l].id:h.topLevel=null,this.set(h),(l=h.topLevel)&&l!==c&&this.get("currentMax")&&(i=this.getWindow(l)).transition("window",i.find("div"),{intro:!0})},n.prototype.place=function(t){if(t.get("control.show")){var n=t.get("control");void 0===n.width&&t.size("auto");var e=0,o=0,s=this.find(".rwhost"),a=s.clientWidth,l=s.clientHeight,c=t.get("control.blocking");if(c){var f="windows."+u(c),d=this.get(f),h=(this.get("max")||d.max)&&!d.dialog;e=(h?a:this.sizeInPx(d.width+"em"))/2+(h?0:d.left)-this.sizeInPx(n.width+"em")/2,o=(h?l:this.sizeInPx(d.height+"em"))/2+(h?0:d.top)-this.sizeInPx(n.height+"em")/2}else{var w,p=this.get("placement");if("function"==typeof p)try{w=p(this,s,n)}catch(t){w=i(this,s,n)}else if("string"==typeof p)switch(p){case"smart":w=r(this,s,n);break;default:w=i(this,s,n)}else w=i(this,s,n);o=w.top,e=w.left}(isNaN(e)||e<0)&&(e=10),(isNaN(o)||o<0)&&(o=10),t.set({"control.top":o,"control.left":e})}},n.prototype.sizeInPx=function(t){return this.sizer.style.width="number"==typeof t?t+"px":t,this.sizer.clientWidth},n.prototype.sizeInEm=function(t){return this.sizeInPx(t)/this.sizeInPx("1em")},Object.defineProperties(n.prototype,e),n}(h);h.extendWith(p,d.apply({template:{v:4,t:[{t:7,e:"div",m:[{n:"class-rwhost",t:13},{n:"tracked",t:71,f:{r:[],s:'["host"]'}}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-max-top",t:13},{t:4,f:[{t:16,r:"~/_maxAttrsP"}],n:50,r:"~/_maxAttrsP"}],f:[{t:16,r:"~/_maxP",z:[{n:"window",x:{r:"~/current"}},{n:"windowControls",x:{x:{r:["@this.partials.windowControls"],s:"{t:_0}"}}},{n:"host",x:{r:"@this"}}]}]}],n:50,x:{r:["~/currentMax","~/_maxP"],s:"_0&&_1"}}," ",{t:7,e:"div",m:[{n:"class-rwhost-pane",t:13}],f:[{t:7,e:"div",m:[{n:"class-rwhost-pane-content",t:13}],f:[{t:16}]}," ",{t:4,f:[{t:11,n:"window",m:[{n:"control",f:[{t:2,rx:{r:"~/windows",m:[{t:30,n:".instance.id"}]}}],t:13},{n:"root",t:13,f:[{t:2,r:"~/"}]}]}],n:52,r:"@this.children.byName.window"}," ",{t:7,e:"div",m:[{n:"class-rwhost-modal",t:13},{t:4,f:[{n:"class-rwhost-modal-active",t:13},{n:"style-z-index",f:[{t:2,r:"~/blocked"}],t:13}],n:50,r:"~/blocked"}]}]}," ",{t:8,r:"toast"}," ",{t:7,e:"div",m:[{n:"class-rwhost-sizer",t:13},{n:"tracked",t:71,f:{r:[],s:'["sizer"]'}}]}]}],e:{'["host"]':function(){return["host"]},"{t:_0}":function(t){return{t:t}},"_0&&_1":function(t,n){return t&&n},'["sizer"]':function(){return["sizer"]},"[_0.getWindow(_1).hide()]":function(t,n){return[t.getWindow(n).hide()]},"[_0.getWindow(_1).maximize()]":function(t,n){return[t.getWindow(n).maximize()]},"!_0&&_1&&_2":function(t,n,e){return!t&&n&&e},"[_0.getWindow(_1).close()]":function(t,n){return[t.getWindow(n).close()]},'["top"]':function(){return["top"]},"[_0.hide()]":function(t){return[t.hide()]},"[_0.maximize()]":function(t){return[t.maximize()]},"!_0&&_1":function(t,n){return!t&&n},"[_0.close()]":function(t){return[t.close()]},"(_0||_1||_2)&&_3&&!_4":function(t,n,e,o,i){return(t||n||e)&&o&&!i},'["content"]':function(){return["content"]},'_0?"block":"none"':function(t){return t?"block":"none"},"[_0.action()]":function(t){return[t.action()]},'["wrapper"]':function(){return["wrapper"]},"_0||_1":function(t,n){return t||n},"!_0":function(t){return!t},"_0||_1||_2":function(t,n,e){return t||n||e},"[_0._startResize(_1)]":function(t,n){return[t._startResize(n)]},"[_0._sizeHandle(_1)]":function(t,n){return[t._sizeHandle(n)]},"[_0._startMove(_1)]":function(t,n){return[t._startMove(n)]},"!(_0===false||_1||_2||_3)&&!_4":function(t,n,e,o,i){return!(!1===t||n||e||o||i)},"[_0.raise()]":function(t){return[t.raise()]},'["pane"]':function(){return["pane"]}},p:{title:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-title",t:13}],f:[{t:3,r:"~/control.title"}]}],n:50,r:"~/control.title"}],windowControls:[{t:7,e:"div",m:[{n:"class-rwindow-controls",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-minimize",t:13},{n:["click"],t:70,f:{r:["host","window.id"],s:"[_0.getWindow(_1).hide()]"}}]}],n:50,r:"window.minimize"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-maximize",t:13},{n:["click"],t:70,f:{r:["host","window.id"],s:"[_0.getWindow(_1).maximize()]"}}]}],n:50,x:{r:["~/window.dialog","window.maximize","host.data.userMax"],s:"!_0&&_1&&_2"}}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-close",t:13},{n:["click"],t:70,f:{r:["host","window.id"],s:"[_0.getWindow(_1).close()]"}}]}],n:50,r:"window.close"}]}],pane:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-pane-top",t:13},{n:"tracked",t:71,f:{r:[],s:'["top"]'}}],f:[{t:8,r:"title"}," ",{t:7,e:"div",m:[{n:"class-rwindow-controls",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-minimize",t:13},{n:["click"],t:70,f:{r:["@this"],s:"[_0.hide()]"}}]}],n:50,r:"~/control.minimize"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-maximize",t:13},{n:["click"],t:70,f:{r:["@this"],s:"[_0.maximize()]"}}]}],n:50,x:{r:["~/control.dialog","~/control.maximize"],s:"!_0&&_1"}}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-close",t:13},{n:["click"],t:70,f:{r:["@this"],s:"[_0.close()]"}}]}],n:50,r:"~/control.close"}]}]}],n:51,x:{r:["~/control.max","~/root.userMax","~/root.max","~/root.hideTitleMax","~/control.dialog"],s:"(_0||_1||_2)&&_3&&!_4"}}," ",{t:7,e:"div",m:[{n:"class-rwindow-content",t:13},{n:"tracked",t:71,f:{r:[],s:'["content"]'}},{n:"class-rwindow-pad",t:13,f:[{t:2,r:"~/control.pad"}]},{n:"class-rwindow-flex",t:13,f:[{t:2,r:"~/control.flex"}]},{t:4,f:[{n:"style-overflow",f:"visible",t:13}],n:50,r:"~/control.autosize"}],f:[{t:8,r:"contents"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-buttons",t:13},{n:"style-display",f:[{t:2,x:{r:["~/visibleButtons"],s:'_0?"block":"none"'}}],t:13}],f:[{t:7,e:"div",m:[{n:"class-rwindow-left-buttons",t:13}],f:[{t:4,f:[{t:4,f:[{t:8,r:".partial"}],n:50,r:".partial"},{t:4,n:51,f:[{t:7,e:"button",m:[{n:["click"],t:70,f:{r:["."],s:"[_0.action()]"}},{t:4,f:[{n:"class",f:[{t:2,r:".class"}],t:13}],n:50,r:".class"}],f:[{t:2,r:".label"}]}],l:1}],n:52,r:"~/leftButtons"}]}," ",{t:7,e:"div",m:[{n:"class-rwindow-center-buttons",t:13}],f:[{t:4,f:[{t:4,f:[{t:8,r:".partial"}],n:50,r:".partial"},{t:4,n:51,f:[{t:7,e:"button",m:[{n:["click"],t:70,f:{r:["."],s:"[_0.action()]"}},{t:4,f:[{n:"class",f:[{t:2,r:".class"}],t:13}],n:50,r:".class"}],f:[{t:2,r:".label"}]}],l:1}],n:52,r:"~/centerButtons"}]}," ",{t:7,e:"div",m:[{n:"class-rwindow-right-buttons",t:13}],f:[{t:4,f:[{t:4,f:[{t:8,r:".partial"}],n:50,r:".partial"},{t:4,n:51,f:[{t:7,e:"button",m:[{n:["click"],t:70,f:{r:["."],s:"[_0.action()]"}},{t:4,f:[{n:"class",f:[{t:2,r:".class"}],t:13}],n:50,r:".class"}],f:[{t:2,r:".label"}]}],l:1}],n:52,r:"~/rightButtons"}]}]}],n:50,r:"~/buttons"}," ",{t:7,e:"div",m:[{n:"class-rwindow-pane-bottom",t:13}],f:[{t:8,r:"status"}]}],window:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-wrapper",t:13},{n:"tracked",t:71,f:{r:[],s:'["wrapper"]'}},{t:4,f:[" ",{t:4,f:[{n:"style-top",f:"0",t:13},{n:"style-left",f:"0",t:13},{n:"style-width",f:"100%",t:13},{n:"style-height",f:"100%",t:13}],n:51,x:{r:["~/control.autosize","~/control.dialog"],s:"_0||_1"}},{n:"class-rwindow-max",t:13,f:[{t:2,x:{r:["~/control.dialog"],s:"!_0"}}]},{n:"window",t:72,v:"t2"}],n:50,x:{r:["~/root.max","~/root.userMax","~/control.max"],s:"_0||_1||_2"}},{t:4,n:51,f:[{t:4,f:[{n:"class-rwindow-resizable",t:13},{n:["mousedown","touchstart"],t:70,f:{r:["@this","@event"],s:"[_0._startResize(_1)]"}},{n:["mousemove","mouseout"],t:70,f:{r:["@this","@event"],s:"[_0._sizeHandle(_1)]"}}],n:50,r:"~/control.resizable"}," ",{t:4,f:[{n:"class-rwindow-resizing",t:13}],n:50,r:"~/control.resizing"},{n:"modal",t:72,v:"t0"},{n:"style-top",f:[{t:2,r:"~/control.top"},"px"],t:13},{n:"style-left",f:[{t:2,r:"~/control.left"},"px"],t:13},{t:4,f:[{n:"style-width",f:[{t:2,r:"~/control.width"},"em"],t:13},{n:"style-height",f:[{t:2,r:"~/control.height"},"em"],t:13}],n:51,r:"~/control.autosize"}],l:1},{n:"style-z-index",f:[{t:2,r:"~/control.index"}],t:13},{n:"class-rwindow-topmost",t:13,f:[{t:2,r:"~/control.topmost"}]}],f:[{t:7,e:"div",m:[{n:"class-rwindow",t:13},{t:4,f:[{n:["mousedown","touchstart"],t:70,f:{r:["@this","@event"],s:"[_0._startMove(_1)]"}}],n:50,x:{r:["~/control.movable","~/root.max","~/root.userMax","~/control.max","~/control.dialog"],s:"!(_0===false||_1||_2||_3)&&!_4"}},{t:4,n:50,f:[{n:["mousedown","touchstart"],t:70,f:{r:["@this"],s:"[_0.raise()]"}}],x:{r:["~/control.topmost"],s:"!_0"},l:1}],f:[{t:7,e:"div",m:[{n:"class-rwindow-modal",t:13},{n:"class-rwindow-blocked",t:13,f:[{t:2,r:"~/control.blockers.length"}]}]}," ",{t:7,e:"div",m:[{n:"class-rwindow-pane",t:13},{n:"tracked",t:71,f:{r:[],s:'["pane"]'}},{t:4,f:[{n:"class-rwindow-autosizing",t:13}],n:50,r:"~/control.autosize"}],f:[{t:8,r:"pane"}]}]}]}],n:50,r:"~/control.show"}]}},cssId:"window-host",noIntro:!0,observe:{"@style":function(){s(this)},topLevel:function(t){t?this.link("windows."+u(t),"current"):this.unlink("current")},currentMax:{handler:function(t){(this.children.byName.window||[]).forEach(function(t){return t.instance.fire("resize")})},defer:!0}},computed:{currentMax:function(){var t=this.get("topLevel"),n=this.get("windows."+u(t)+".max");return this.get("userMax")||this.get("max")||n}},transitions:{expand:o},on:{config:function(){var t=this,n=this.partials.content;if(n&&Array.isArray(n))for(var e=(n=this.partials.content=n.slice()).length;e--;){var o=n[e];"max-top"===o.e&&(n.splice(e,1),t.set({_maxP:{t:o.f},hideTitleMax:!0}),o.m&&t.set({_maxAttrsP:{t:o.m}}))}if("undefined"!=typeof window){var i;this._resizeListener=function(){i||(i=setTimeout(function(){i=null,t.fire("resize")},300))},window.addEventListener("resize",this._resizeListener)}},teardown:function(){this._resizeListener&&window.removeEventListener("resize",this._resizeListener)}}})),n.transitions.modal=function(t,n){var e,o=t.processParams(n,{duration:400,easing:"easeOut",x:0,y:-50,event:!0}),i={x:t.node.offsetLeft,y:t.node.offsetTop},r=t.node.parentNode.style?t.node.parentNode.style.overflow:"hidden";if(t.node._modalSrc){var s=t.node._modalSrc||{x:i.x+o.x,y:i.y+o.y},a={x:s.x-Math.round(t.node.clientWidth/2)-i.x,y:s.y-Math.round(t.node.clientHeight/2)-i.y};t.node.parentNode.style&&(t.node.parentNode.style.overflow="hidden"),t.isIntro?(t.node._modalSrc=s,e={transform:"translate(0, 0) scale(1, 1)",opacity:1},t.setStyle({transform:"translate("+a.x+"px, "+a.y+"px) scale(0.5, 0.5)",opacity:0})):e={transform:"translate("+a.x+"px, "+a.y+"px) scale(0.5, 0.5)",opacity:0}}else t.isIntro?(e={transform:"translate(0, 0) scale(1, 1)",opacity:1},t.setStyle({transform:"translate("+o.x+"px, "+o.y+"px) scale(0.5, 0.5)",opacity:0})):e={transform:"translate("+o.x+"px, "+o.y+"px) scale(0.5, 0.5)",opacity:0};t.animateStyle(e,o).then(function(){t.node.parentNode.style&&(t.node.parentNode.style.overflow=r),t.complete()})};var m=["mousemove","mouseup","touchmove","touchend"],g=function(t){function n(n){t.call(this,n)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={resizable:{configurable:!0},title:{configurable:!0},visible:{configurable:!0},pad:{configurable:!0}};return e.resizable.get=function(){return this.get("control.resizable")},e.resizable.set=function(t){return this.set("control.resizable",t)},e.title.get=function(){return this.get("control.title")},e.title.set=function(t){return this.set("control.title",t)},e.visible.get=function(){return this.get("control.show")},e.visible.set=function(t){t?this.show():this.set("control.show",t,{keep:!0}),this.host.raise(this,t)},e.pad.get=function(){return this.get("pad")},e.pad.set=function(t){this.set("pad",t)},n.prototype.close=function(t){if(!0!==t){if(!this.parent)return!1;if(this.get("control.blockers.length"))return!1;if("function"==typeof this.beforeClose&&!1===this.beforeClose())return!1;if(!1===this.fire("beforeClose"))return!1}this.fire("close")},n.prototype.maximize=function(){this.toggle("root.userMax")},n.prototype.hide=function(){this.visible=!1},n.prototype.raise=function(t){this.host.raise(this,t)},n.prototype.show=function(){this.set("control.show",!0),void 0===this.get("control.top")&&this.host.place(this)},n.prototype.size=function(t,n){if(this.visible){var e=this.wrapper;if(e){if("auto"===t){this.set("control.autosize",!0);var o=this.host.sizeInEm(e.clientWidth+16),i=this.host.sizeInEm(e.clientHeight);this.set({"control.width":o,"control.height":i,"control.naturalWidth":o,"control.naturalHeight":i,"control.autosize":!1})}else if("number"==typeof t&&"number"==typeof n)this.set({"control.width":this.host.sizeInEm(t),"control.height":this.host.sizeInEm(n),"control.naturalWidth":this.host.sizeInEm(t),"control.naturalHeight":this.host.sizeInEm(n),"control.autosize":!1});else if("string"==typeof t&&"string"==typeof n){var r=e.style.width,s=e.style.height;e.style.width=t,e.style.height=n;var a=e.clientWidth,l=e.clientHeight;e.style.width=r,e.style.height=s,this.set({"control.width":this.host.sizeInEm(a),"control.height":this.host.sizeInEm(l),"control.naturalWidth":this.host.sizeInEm(a),"control.naturalHeight":this.host.sizeInEm(l),"control.autosize":!1})}this.fire("resize")}}else"number"==typeof t&&"number"==typeof n&&this.set({"control.width":this.host.sizeInEm(t),"control.height":this.host.sizeInEm(n),"control.naturalWidth":this.host.sizeInEm(t),"control.naturalHeight":this.host.sizeInEm(n),"control.autosize":!1})},n.prototype.move=function(t,n){"string"==typeof t&&(t=this.host.sizeInEm(t)),"string"==typeof n&&(t=this.host.sizeInEm(n));var e={};"number"==typeof t&&(e["control.top"]=t),"number"==typeof n&&(e["control.left"]=n),this.set(e)},n.prototype._startMove=function(t){var n=this;if("mousedown"!==t.type||0===t.button){if(this.get("control.topmost")||this.raise(),~t.type.indexOf("mouse")){if(!t.ctrlKey&&t.target!==this.content&&t.target!==this.top&&!this.top.contains(t.target))return}else if(t.targetTouches&&1===t.targetTouches.length&&t.target!==this.content&&t.target!==this.top&&!this.top.contains(t.target))return;var e=this.pane,o=e.style.cursor;e.style.cursor="move",e.style.userSelect="none";var i=t.x||t.clientX||t.targetTouches&&t.targetTouches[0].clientX||0,r=t.y||t.clientY||t.targetTouches&&t.targetTouches[0].clientY||0,s=this.get("control.left")||0,a=this.get("control.top")||0,l=e.clientWidth,c=e.clientHeight,f=function(t){var d=t.x||t.clientX||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientX||t.changedTouches&&t.changedTouches[0].clientX||0,u=t.y||t.clientY||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientY||t.changedTouches&&t.changedTouches[0].clientY||0,h=s+(d-i),w=a+(u-r);h<(l<30?0:30-l)&&(h=l<30?0:30-l),w<(c<30?0:30-c)&&(w=c<30?0:30-c),h<0&&(h=0),w<0&&(w=0),n.set({"control.top":w,"control.left":h}),"touchend"===t.type||"mouseup"===t.type?(m.forEach(function(t){return document.removeEventListener(t,f,{passive:!1})}),e.style.cursor=o,e.style.userSelect=""):t.preventDefault()};return m.forEach(function(t){return document.addEventListener(t,f,{passive:!1})}),0!==t.type.indexOf("mouse")&&void 0}},n.prototype._startResize=function(t){var n=this;if(t.target===this.wrapper&&("mousedown"!==t.type||0===t.button)){this.get("control.autosize")&&this.size("auto"),this.get("control.topmost")||this.raise(),this.set("control.resizing",!0);var e,o=this.wrapper,i=t.offsetX||t.targetTouches&&t.targetTouches[0].pageX-o.getBoundingClientRect().left,r=t.offsetY||t.targetTouches&&t.targetTouches[0].pageY-o.getBoundingClientRect().top,s=this.get("@style.window.handleSize")||7,a=o.clientWidth-2*s,l=o.clientHeight-2*s,c=2*s,f=i<=c||i>=a,d=r<=c||r>=l,u=t.x||t.clientX||t.targetTouches&&t.targetTouches[0].clientX||0,h=t.y||t.clientY||t.targetTouches&&t.targetTouches[0].clientY||0,w=this.get("control.left")||0,p=this.get("control.top")||0,g=this.host.sizeInPx(this.get("control.width")+"em"),x=this.host.sizeInPx(this.get("control.height")+"em"),b=this.host.sizeInPx(this.get("control.naturalHeight")+"em"),y=this.host.sizeInPx(this.get("control.naturalWidth")+"em"),v=function(t){t.preventDefault();var o=t.x||t.clientX||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientX||t.changedTouches&&t.changedTouches[0].clientX||0,a=t.y||t.clientY||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientY||t.changedTouches&&t.changedTouches[0].clientY||0,l=f?o-u:0,c=d?a-h:0,_={};r<=s?(_["control.top"]=p+c,_["control.height"]=x-c):_["control.height"]=x+c,i<=s?(_["control.left"]=w+l,_["control.width"]=g-l):_["control.width"]=g+l,_["control.width"]<y&&(delete _["control.width"],delete _["control.left"]),_["control.height"]<b&&(delete _["control.height"],delete _["control.top"]),_["control.left"]<0&&(_["control.left"]=0),_["control.top"]<0&&(_["control.top"]=0),_["control.width"]&&(_["control.width"]=n.host.sizeInEm(_["control.width"])),_["control.height"]&&(_["control.height"]=n.host.sizeInEm(_["control.height"])),n.set(_),"touchend"===t.type||"mouseup"===t.type?(m.forEach(function(t){return document.removeEventListener(t,v,{passive:!1})}),n.set("control.resizing",!1),g===n.get("control.width")&&x===n.get("control.height")||(e&&clearTimeout(e),e=null,n.fire("resize"))):e||(e=setTimeout(function(){n.fire("resize"),e=null},200))};return m.forEach(function(t){return document.addEventListener(t,v,{passive:!1})}),!1}},n.prototype._sizeHandle=function(t){if(t.target===this.wrapper){var n=this.wrapper;if("mouseout"===t.type)return n.style.cursor="auto";var e=t.offsetX,o=t.offsetY,i=this.get("@style.window.handleSize")||7,r=n.clientWidth-i,s=n.clientHeight-i,a=n.style;a.cursor=e<=i+i&&o<=i+i||e>=r-i&&o>=s-i?"nwse-resize":e>=r-i&&o<=i+i||e<=i+i&&o>=s-i?"nesw-resize":(e<=i||e>=r)&&(o<s||o>i)?"ew-resize":(o<=i||o>=s)&&(e<r||e>i)?"ns-resize":"auto"}},Object.defineProperties(n.prototype,e),n}(h),x=["left","right","center","condition"];h.extendWith(g,{template:{v:4,t:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-wrapper",t:13},{n:"tracked",t:71,f:{r:[],s:'["wrapper"]'}},{t:4,f:[" ",{t:4,f:[{n:"style-top",f:"0",t:13},{n:"style-left",f:"0",t:13},{n:"style-width",f:"100%",t:13},{n:"style-height",f:"100%",t:13}],n:51,x:{r:["~/control.autosize","~/control.dialog"],s:"_0||_1"}},{n:"class-rwindow-max",t:13,f:[{t:2,x:{r:["~/control.dialog"],s:"!_0"}}]},{n:"window",t:72,v:"t2"}],n:50,x:{r:["~/root.max","~/root.userMax","~/control.max"],s:"_0||_1||_2"}},{t:4,n:51,f:[{t:4,f:[{n:"class-rwindow-resizable",t:13},{n:["mousedown","touchstart"],t:70,f:{r:["@this","@event"],s:"[_0._startResize(_1)]"}},{n:["mousemove","mouseout"],t:70,f:{r:["@this","@event"],s:"[_0._sizeHandle(_1)]"}}],n:50,r:"~/control.resizable"}," ",{t:4,f:[{n:"class-rwindow-resizing",t:13}],n:50,r:"~/control.resizing"},{n:"modal",t:72,v:"t0"},{n:"style-top",f:[{t:2,r:"~/control.top"},"px"],t:13},{n:"style-left",f:[{t:2,r:"~/control.left"},"px"],t:13},{t:4,f:[{n:"style-width",f:[{t:2,r:"~/control.width"},"em"],t:13},{n:"style-height",f:[{t:2,r:"~/control.height"},"em"],t:13}],n:51,r:"~/control.autosize"}],l:1},{n:"style-z-index",f:[{t:2,r:"~/control.index"}],t:13},{n:"class-rwindow-topmost",t:13,f:[{t:2,r:"~/control.topmost"}]}],f:[{t:7,e:"div",m:[{n:"class-rwindow",t:13},{t:4,f:[{n:["mousedown","touchstart"],t:70,f:{r:["@this","@event"],s:"[_0._startMove(_1)]"}}],n:50,x:{r:["~/control.movable","~/root.max","~/root.userMax","~/control.max","~/control.dialog"],s:"!(_0===false||_1||_2||_3)&&!_4"}},{t:4,n:50,f:[{n:["mousedown","touchstart"],t:70,f:{r:["@this"],s:"[_0.raise()]"}}],x:{r:["~/control.topmost"],s:"!_0"},l:1}],f:[{t:7,e:"div",m:[{n:"class-rwindow-modal",t:13},{n:"class-rwindow-blocked",t:13,f:[{t:2,r:"~/control.blockers.length"}]}]}," ",{t:7,e:"div",m:[{n:"class-rwindow-pane",t:13},{n:"tracked",t:71,f:{r:[],s:'["pane"]'}},{t:4,f:[{n:"class-rwindow-autosizing",t:13}],n:50,r:"~/control.autosize"}],f:[{t:8,r:"pane"}]}]}]}],n:50,r:"~/control.show"}]},cssId:"window",partials:{pane:{v:4,t:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-pane-top",t:13},{n:"tracked",t:71,f:{r:[],s:'["top"]'}}],f:[{t:8,r:"title"}," ",{t:7,e:"div",m:[{n:"class-rwindow-controls",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-minimize",t:13},{n:["click"],t:70,f:{r:["@this"],s:"[_0.hide()]"}}]}],n:50,r:"~/control.minimize"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-maximize",t:13},{n:["click"],t:70,f:{r:["@this"],s:"[_0.maximize()]"}}]}],n:50,x:{r:["~/control.dialog","~/control.maximize"],s:"!_0&&_1"}}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-close",t:13},{n:["click"],t:70,f:{r:["@this"],s:"[_0.close()]"}}]}],n:50,r:"~/control.close"}]}]}],n:51,x:{r:["~/control.max","~/root.userMax","~/root.max","~/root.hideTitleMax","~/control.dialog"],s:"(_0||_1||_2)&&_3&&!_4"}}," ",{t:7,e:"div",m:[{n:"class-rwindow-content",t:13},{n:"tracked",t:71,f:{r:[],s:'["content"]'}},{n:"class-rwindow-pad",t:13,f:[{t:2,r:"~/control.pad"}]},{n:"class-rwindow-flex",t:13,f:[{t:2,r:"~/control.flex"}]},{t:4,f:[{n:"style-overflow",f:"visible",t:13}],n:50,r:"~/control.autosize"}],f:[{t:8,r:"contents"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-buttons",t:13},{n:"style-display",f:[{t:2,x:{r:["~/visibleButtons"],s:'_0?"block":"none"'}}],t:13}],f:[{t:7,e:"div",m:[{n:"class-rwindow-left-buttons",t:13}],f:[{t:4,f:[{t:4,f:[{t:8,r:".partial"}],n:50,r:".partial"},{t:4,n:51,f:[{t:7,e:"button",m:[{n:["click"],t:70,f:{r:["."],s:"[_0.action()]"}},{t:4,f:[{n:"class",f:[{t:2,r:".class"}],t:13}],n:50,r:".class"}],f:[{t:2,r:".label"}]}],l:1}],n:52,r:"~/leftButtons"}]}," ",{t:7,e:"div",m:[{n:"class-rwindow-center-buttons",t:13}],f:[{t:4,f:[{t:4,f:[{t:8,r:".partial"}],n:50,r:".partial"},{t:4,n:51,f:[{t:7,e:"button",m:[{n:["click"],t:70,f:{r:["."],s:"[_0.action()]"}},{t:4,f:[{n:"class",f:[{t:2,r:".class"}],t:13}],n:50,r:".class"}],f:[{t:2,r:".label"}]}],l:1}],n:52,r:"~/centerButtons"}]}," ",{t:7,e:"div",m:[{n:"class-rwindow-right-buttons",t:13}],f:[{t:4,f:[{t:4,f:[{t:8,r:".partial"}],n:50,r:".partial"},{t:4,n:51,f:[{t:7,e:"button",m:[{n:["click"],t:70,f:{r:["."],s:"[_0.action()]"}},{t:4,f:[{n:"class",f:[{t:2,r:".class"}],t:13}],n:50,r:".class"}],f:[{t:2,r:".label"}]}],l:1}],n:52,r:"~/rightButtons"}]}]}],n:50,r:"~/buttons"}," ",{t:7,e:"div",m:[{n:"class-rwindow-pane-bottom",t:13}],f:[{t:8,r:"status"}]}]}.t,title:{v:4,t:[{t:4,f:[{t:7,e:"div",m:[{n:"class-rwindow-title",t:13}],f:[{t:3,r:"~/control.title"}]}],n:50,r:"~/control.title"}]}.t,contents:{v:4,t:""}.t,status:{v:4,t:""}.t},data:function(){return{buttons:[],visibleButtons:0}},computed:{leftButtons:function(){return(this.get("buttons")||[]).filter(function(t){return"left"===t.where})},centerButtons:function(){return(this.get("buttons")||[]).filter(function(t){return"center"===t.where})},rightButtons:function(){return(this.get("buttons")||[]).filter(function(t){return!t.where||"right"===t.where})}},decorators:{button:function(t){var n=this.getContext(t);return n.add("visibleButtons"),{update:function(){},teardown:function(){n.subtract("visibleButtons")}}}},on:{config:function(){var t=g.prototype.template,n=this.template;"string"!=typeof t&&!Array.isArray(t)&&t.t&&(t=t.t),"string"!=typeof n&&!Array.isArray(n)&&n.t&&(n=n.t),t!==n&&(this.partials.hasOwnProperty("contents")||(this.partials.contents=n),this.template=t)},construct:function(){var t=this.constructor;if(!t._constructed){t._constructed=1;var n=t.prototype.template.t.slice(),e=n.find(function(t){return"buttons"===t.e});t.prototype.template.t=n.filter(function(t){return"buttons"!==t.e});function o(t){var n=t.m||[],e={partial:{t:[{t:t.t,e:t.e,f:t.f,m:n.filter(function(t){return!~x.indexOf(t.n)})}]},where:n.find(function(t){return"left"===t.n})?"left":n.find(function(t){return"center"===t.n})?"center":"right"};return e.partial.t[0].m.push({t:71,n:"button"}),e}e&&(t._btns=e.f.filter(function(t){return"button"===t.e||4===t.t&&(50===t.n||51===t.n)&&t.f.find(function(t){return"button"===t.e})}).map(function(t){if(4===t.t){var n=o(t.f.find(function(t){return"button"===t.e}));return n.partial={t:[{t:t.t,n:t.n,r:t.r,rx:t.rx,x:t.x,f:[n.partial.t[0]]}]},n}return o(t)}))}},init:function(){var t=this.constructor;t._btns&&!this.get("buttons.length")&&this.set("buttons",t._btns)}}}),e("RMWindowHost","components",p),e("RMWindow","components",g),p.prototype.Window=g,t.Base=h,t.Host=p,t.Window=g,Object.defineProperty(t,"__esModule",{value:!0})});
