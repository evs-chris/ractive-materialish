!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("ractive")):"function"==typeof define&&define.amd?define(["ractive"],n):t.RMTabs=n(t.Ractive)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n,e="undefined"!=typeof window?window:null,a=[],r=function(t){function n(n){t.call(this,n)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.updateIndicator=function(){var t=this._tabs[this.get("selected")];if(t){var n=this.get("selectedLeft");if(void 0===n)this.set({selectedLeft:t.offsetLeft,selectedRight:t.offsetParent.clientWidth-(t.offsetLeft+t.offsetWidth)});else{var e=t.offsetParent.clientWidth,a=t.offsetLeft,r=e-a-t.clientWidth;this.set({direction:a<n?"left":"right",selectedLeft:a,selectedRight:r})}}else this.set({selectedLeft:0,selectedRight:this.find(".tabs").offsetWidth})},n}(t),s=["closable","disabled","title","right","button","no-pad"];return t.extendWith(r,{template:{v:4,t:[{t:7,e:"div",m:[{n:"class-rtabs",t:13},{t:16,r:"extra-attributes"},{n:"class-rtabs-flat",t:13,f:[{t:2,r:"~/flat"}]},{n:"class-rtabs-margin",t:13,f:[{t:2,r:"~/margin"}]},{n:"class-rtabs-fill",t:13,f:[{t:2,r:"~/fill"}]}],f:[{t:7,e:"div",m:[{n:"class-rtabs-tab-window",t:13},{t:4,f:[{n:"class-rtabs-going-left",t:13}],n:50,x:{r:[".direction"],s:'_0==="left"'}},{t:4,n:51,f:[{n:"class-rtabs-going-right",t:13}],l:1}],f:[{t:7,e:"div",m:[{n:"class-rtabs-tabs",t:13}],f:[{t:7,e:"div",m:[{n:"class-rtabs-left",t:13},{n:"class-rtabs-center",t:13,f:[{t:2,r:"~/center"}]}],f:[{t:4,f:[{t:4,f:[{t:8,r:"tab"}],n:51,r:".right"}],n:52,r:".tabs"}]}," ",{t:7,e:"div",m:[{n:"class-rtabs-right",t:13}],f:[{t:4,f:[{t:4,f:[{t:8,r:"tab"}],n:50,r:".right"}],n:52,r:".tabs"}]}," ",{t:7,e:"div",m:[{n:"class-rtabs-indicator",t:13},{n:"style-left",f:[{t:2,r:".selectedLeft"},"px"],t:13},{t:4,f:[{n:"style-right",f:[{t:2,r:".selectedRight"},"px"],t:13}],n:50,x:{r:[".selectedRight"],s:"_0!==undefined"}}]}]}]}," ",{t:7,e:"div",m:[{n:"class-rtabs-content-wrapper",t:13}],f:[{t:7,e:"div",m:[{n:"class-rtabs-content-window",t:13},{t:4,f:[{n:"class-rtabs-trans-fade",t:13}],n:50,x:{r:[".transition"],s:'_0==="fade"'}},{t:4,n:50,f:[{n:"class-rtabs-trans-slide",t:13}],x:{r:[".transition"],s:'_0==="slide"'},l:1}],f:[{t:7,e:"div",m:[{n:"class-rtabs-contents",t:13},{n:"style-opacity",f:[{t:2,r:"~/opacity"}],t:13},{n:"style-left",f:[{t:2,x:{r:[".selectedContent"],s:"_0*-100"}},"%"],t:13},{n:"class-rtabs-pad",t:13,f:[{t:2,r:"~/pad"}]}],f:[{t:4,f:[{t:8,r:"tab-content"}],n:52,r:".tabs"}]}]}]}]}],e:{'_0==="left"':function(t){return"left"===t},"_0!==undefined":function(t){return void 0!==t},'_0==="fade"':function(t){return"fade"===t},'_0==="slide"':function(t){return"slide"===t},"_0*-100":function(t){return-100*t},"_0===_1":function(t,n){return t===n},'_0==="dynamic"':function(t){return"dynamic"===t},"_0!==_1":function(t,n){return t!==n},"_0===false":function(t){return!1===t},"!_0":function(t){return!t},"_0===_1&&!_2":function(t,n,e){return t===n&&!e},'typeof _1==="string"?_0[_1]:_1':function(t,n){return"string"==typeof n?t[n]:n},'[["select",_0]]':function(t){return[["select",t]]},"[_0]":function(t){return[t]},'typeof _0==="string"':function(t){return"string"==typeof t},'[["close",_0]]':function(t){return[["close",t]]},"_0&&!_1":function(t,n){return t&&!n}},p:{"tab-content":[{t:4,f:[{t:7,e:"div",m:[{n:"class-rtabs-tab-content",t:13},{n:"class-rtabs-selected-content",t:13,f:[{t:2,x:{r:["~/selectedContent","@index"],s:"_0===_1"}}]},{n:"class-rtabs-dyna",t:13,f:[{t:2,x:{r:["~/height"],s:'_0==="dynamic"'}}]},{n:"class-rtabs-not-selected",t:13,f:[{t:2,x:{r:["~/selectedContent","@index"],s:"_0!==_1"}}]},{t:4,f:[{t:16,r:".extra"}],n:50,r:".extra"},{t:4,f:[{n:"class-rtabs-no-pad",t:13}],n:50,x:{r:[".pad"],s:"_0===false"}},{t:4,n:50,f:[{n:"class-rtabs-no-pad",t:13,f:[{t:2,rx:{r:"~/",m:[{t:30,n:".padRef"}]}}]}],r:".padRef",l:1}],f:[{t:16,r:".template"}]}],n:50,x:{r:[".button"],s:"!_0"}},{t:4,n:51,f:[{t:7,e:"div",m:[{n:"class-rtabs-placeholder",t:13}]}],l:1}],tab:[{t:7,e:"div",m:[{n:"class-rtabs-tab",t:13},{n:"class-rtabs-selected",t:13,f:[{t:2,x:{r:["~/selected","@index",".button"],s:"_0===_1&&!_2"}}]},{t:4,f:[{n:"class-rtabs-disabled",t:13}],n:50,x:{r:["~/",".disabled"],s:'typeof _1==="string"?_0[_1]:_1'}},{t:4,n:50,f:[{n:["click"],t:70,f:{r:["@index"],s:'[["select",_0]]'}}],x:{r:[".button"],s:"!_0"},l:1},{n:"registered",t:71,f:{r:["@index"],s:"[_0]"}},{t:4,f:[{t:16,r:".extraTab"}],n:50,r:".extraTab"}],f:[{t:4,f:[{t:2,r:"title"}],n:50,x:{r:[".title"],s:'typeof _0==="string"'}},{t:4,n:50,f:[{t:16,r:".title"}],r:".title",l:1}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class-rtabs-close",t:13},{n:["click"],t:70,f:{r:["@index"],s:'[["close",_0]]'}}],f:["Ã—"]}],n:50,x:{r:[".closable",".button"],s:"_0&&!_1"}}]}]}},cssId:"rtab",noCssTransform:!0,css:function(t){return[function(t){return"\n   .rtabs {\n     position: relative;\n     display: flex;\n     flex-direction: column;\n     width: 100%;\n   }\n \n   .rtabs-tab-window {\n     overflow-y: hidden;\n     overflow-x: auto;\n     box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n       0 1px 5px 0 rgba(0, 0, 0, 0.12),\n       0 3px 1px -2px rgba(0, 0, 0, 0.2);\n     color: "+(t("tabs.tab.fg")||t("fg1")||"#222")+";\n     background-color: "+(t("tabs.tab.bg")||t("bg1")||"#fff")+";\n     position: relative;\n     flex-shrink: 0;\n   }\n   .secondary > .rtabs-tab-window {\n     color: "+(t("fg2")||"#fff")+";\n     background-color: "+(t("bg2")||"#07e")+";\n   }\n   .alt1 > .rtabs-tab-window {\n     color: "+(t("alt1.fg1")||"#222")+";\n     background-color: "+(t("alt1.bg1")||"#fff")+";\n   }\n   .alt1.secondary > .rtabs-tab-window {\n     color: "+(t("alt1.fg2")||"#222")+";\n     background-color: "+(t("alt1.bg2")||"#fff")+";\n   }\n   .alt2 > .rtabs-tab-window {\n     color: "+(t("alt2.fg1")||"#222")+";\n     background-color: "+(t("alt2.bg1")||"#fff")+";\n   }\n   .alt2.secondary > .rtabs-tab-window {\n     color: "+(t("alt2.fg2")||"#222")+";\n     background-color: "+(t("alt2.bg2")||"#fff")+";\n   }\n \n   .rtabs-flat > .rtabs-tab-window {\n     box-shadow: none;\n   }\n   .rtabs-flat > .rtabs-tab-window:after {\n     content: '';\n     height: 0.15em;\n     position: absolute;\n     bottom: 0px;\n     width: 100%;\n     display: block;\n     background-color: "+(t("tabs.tab.fg")||t("bga1")||"#222")+";\n   }\n   .rtabs-flat.secondary > .rtabs-tab-window:after {\n     background-color: "+(t("tabs.tab.fg")||t("bga2")||"#07e")+";\n   }\n   .rtabs-flat.alt1 > .rtabs-tab-window:after {\n     background-color: "+(t("alt1.bga1")||"#222")+";\n   }\n   .rtabs-flat.alt1.secondary > .rtabs-tab-window:after {\n     background-color: "+(t("alt1.bga2")||"#222")+";\n   }\n   .rtabs-flat.alt2 > .rtabs-tab-window:after {\n     background-color: "+(t("alt2.bga1")||"#222")+";\n   }\n   .rtabs-flat.alt2.secondary > .rtabs-tab-window:after {\n     background-color: "+(t("alt2.bga2")||"#222")+";\n   }\n \n   .rtabs-center.rtabs-left {\n     text-align: center;\n   }\n \n   .rtabs-pad {\n     padding: 1em;\n   }\n \n   .rtabs-fill {\n     flex-grow: 1;\n   }\n \n   .rtabs-tabs {\n     display: table;\n     position: relative;\n     min-width: 100%;\n     overflow-x: auto;\n     overflow-y: hidden;\n     white-space: nowrap;\n   }\n \n   .rtabs-tab {\n     display: inline-block;\n     box-sizing: border-box;\n     padding: 0.5em 1em;\n     height: 2.5em;\n     cursor: pointer;\n     opacity: 0.9;\n     transition: opacity 0.2s ease-in-out;\n     user-select: none;\n   }\n   .rtabs-tab:hover {\n     opacity: 1;\n   }\n \n   .rtabs-selected {\n     opacity: 1;\n   }\n \n   .rtabs-disabled {\n     opacity: 0.4;\n   }\n \n   .rtabs-right {\n     text-align: right;\n     display: table-cell;\n   }\n \n   .rtabs-left {\n     text-align: left;\n     display: table-cell;\n   }\n \n   .rtabs-close {\n     display: inline-block;\n     margin-right: -0.5em;\n     font-weight: 700;\n     opacity: 0.3;\n     transition: opacity: 0.2s ease-in-out;\n   }\n \n   .rtabs-close:hover {\n     opacity: 1;\n   }\n \n   .rtabs-indicator {\n     position: absolute;\n     bottom: 0;\n     height: 0.15em;\n     background-color: "+(t("tabs.indicator.color")||t("fga1")||"darkblue")+";\n     z-index: 2;\n   }\n \n   .secondary > .rtabs-tab-window .rtabs-indicator {\n     background-color: "+(t("fga2")||"#fff")+";\n   }\n   .alt1 > .rtabs-tab-window .rtabs-indicator {\n     background-color: "+(t("alt1.fga1")||"darkblue")+";\n   }\n   .alt1.secondary > .rtabs-tab-window .rtabs-indicator {\n     background-color: "+(t("alt1.fga2")||"darkblue")+";\n   }\n   .alt2 > .rtabs-tab-window .rtabs-indicator {\n     background-color: "+(t("alt2.fga1")||"darkblue")+";\n   }\n   .alt2.secondary > .rtabs-tab-window .rtabs-indicator {\n     background-color: "+(t("alt2.fga2")||"darkblue")+";\n   }\n \n   .rtabs-going-left .rtabs-indicator {\n     transition: left 0.2s ease-in-out, right 0.2s ease-in-out 0.1s;\n   }\n   .rtabs-going-right .rtabs-indicator {\n     transition: left 0.2s ease-in-out 0.1s, right 0.2s ease-in-out;\n   }\n \n   .rtabs-content-wrapper {\n     width: 100%;\n     box-sizing: border-box;\n     display: flex;\n     flex-direction: column;\n     flex-grow: 2;\n     overflow: hidden;\n   }\n \n   .rtabs-content-window {\n     width: 100%;\n     display: flex;\n     flex-grow: 1;\n     overflow-y: auto;\n     overflow-x: hidden\n   }\n \n   .rtabs {\n     color: "+(t("tabs.content.fg")||t("fg1")||"#222")+";\n     background-color: "+(t("tabs.content.bg")||t("bg1")||"#fff")+";\n   }\n   .rtabs.alt1 {\n     color: "+(t("alt1.fg1")||"#222")+";\n     background-color: "+(t("alt1.bg1")||"#fff")+";\n   }\n   rtabs.alt2 {\n     color: "+(t("alt2.fg1")||"#222")+";\n     background-color: "+(t("alt2.bg1")||"#fff")+";\n   }\n \n   .rtabs-contents {\n     list-style: none;\n     padding: 0;\n     margin: 0;\n     position: relative;\n     left: 0;\n     display: block;\n     flex-wrap: nowrap;\n     white-space: nowrap;\n     width: 100%;\n   }\n   .rtabs-trans-slide > .rtabs-contents {\n     transition: left 0.2s ease-in-out;\n   }\n   .rtabs-trans-fade > .rtabs-contents {\n     transition: opacity 0.15s ease;\n     opacity: 1;\n     white-space: nowrap;\n   }\n \n   .rtabs-fill > div > div > .rtabs-contents {\n     display: flex;\n   }\n \n   .rtabs-tab-content {\n     display: inline-block;\n     width: 100%;\n     vertical-align: top;\n     white-space: initial;\n     transition: opacity 0.1s ease-in-out;\n     flex-shrink: 0;\n     white-space: initial;\n     display: inline-block;\n     flex-direction: column;\n     flex-grow: 1;\n   }\n   .rtabs-fill > div > div > div > .rtabs-tab-content {\n     display: flex;\n   }\n \n   .rtabs-placeholder {\n     display: inline-block;\n     width: 100%;\n     height: 1px;\n     flex-shrink: 0;\n   }\n   .rtabs-dyna.rtabs-not-selected {\n     height: 1px;\n     opacity: 0;\n     overflow: hidden;\n   }\n   .rtabs-pad > .rtabs-tab-content {\n     padding: 1em;\n     box-sizing: border-box;\n   }\n   .rtabs-pad > .rtabs-tab-content.rtabs-no-pad {\n     padding: 0;\n   }\n   "}.call(this,t)].join(" ")},attributes:["transition","flat","pad","center","height","fill"],data:function(){return{tabs:[],rightTabs:[],selected:0,selectedContent:0,opacity:1}},on:{construct:function(){var t=this.component;if(t){var e=t.template.f||[],r=t.template.m?t.template.m.slice():[],i=t.template;t.template={e:i.e,f:i.f,t:i.t,m:r};var o=e.filter(function(t){return"tab"===t.e}).map(function(t){var n={template:{t:t.f}},e=[],a=[];return t.m.forEach(function(t){if(13===t.t&&~s.indexOf(t.n))if("disabled"===t.n&&t.f&&1===t.f.length&&2===t.f[0].t){var i="_cnd"+r.length;n.disabled=i,r.push({t:13,n:i,f:t.f})}else if("no-pad"===t.n)if(t.f){if(1===t.f.length&&2===t.f[0].t){var o="_cnd"+r.length;n.padRef=o,r.push({t:13,n:o,f:t.f})}}else n.pad=!1;else n[t.n]=0===t.f||("string"==typeof t.f?t.f:{t:t.f});else 70===t.t?a.push(t):e.push(t)}),e.length&&(n.extra={t:e}),a.length&&(n.extraTab={t:a}),n});this._tabs=o,n||void 0===typeof window||(n=!0,window.addEventListener("resize",function(){a.forEach(function(t){return t.updateIndicator()})})),a.push(this)}},config:function(){this._tabs&&this.set("tabs",(this.get("tabs")||[]).concat(this._tabs),{shuffle:!0})},select:function(t,n){var e=this,a=this.get("selected"),r=(this.find(".contents"),this.get("transition"));a!==n&&("fade"===r?(this.set({opacity:0,selected:n}),this.updateIndicator(),setTimeout(function(){e.set({selectedContent:n,opacity:1})},150)):"slide"===r?(this.set("selected",n),this.set("selectedContent",n),this.updateIndicator()):(this.set({selected:n,selectedContent:n}),this.updateIndicator()))},close:function(t,n){var e=this.getContext(this._tabs[n]),a=!0;return e.element.events.find(function(t){return t.events.find(function(t){return"close"===t.name})})&&(a=e.raise("close")),a&&this.splice("tabs",n,1),!1},teardown:function(){a.splice(a.indexOf(this),1)},render:function(){var t=this;this._resizeListener=this.root.on("*.resize",function(){return t.updateIndicator()}),setTimeout(function(){return t.updateIndicator()})},unrender:function(){this._resizeListener&&(this._resizeListener.cancel(),this._resizeListener=null)}},decorators:{registered:function(t,n){var e=this;return this._tabs||(this._tabs=[]),this._tabs[n]=t,this.updateIndicator(),{teardown:function(){},invalidate:function(){e.updateIndicator()},update:function(n){e._tabs[n]=t,setTimeout(function(){return e.updateIndicator()})}}}}}),function(t,n,a){if(e&&e.Ractive&&"object"==typeof e.Ractive[n]){var r=document.currentScript;if(r||(r=(r=document.querySelectorAll("script"))[r.length-1]),r){var s=r.getAttribute("data-alias");s&&(s=(s=s.split("&")).reduce(function(t,n){var e=n.split("="),a=e[0],r=e[1];return t[a]=r,t},{})),Ractive[n][s&&s[t]||t]=a}}}("RMTabs","components",r),r});
